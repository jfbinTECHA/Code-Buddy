{"version":3,"file":"user-profile.entity.js","sourceRoot":"","sources":["../../../../../src/authz/stores/typeorm/entities/user-profile.entity.ts"],"names":[],"mappings":";;;;;;;;;;;;AAAA,qCAOiB;AACjB,4CAAkD;AAG3C,IAAM,sBAAsB,GAA5B,MAAM,sBAAsB;CAkClC,CAAA;AAlCY,wDAAsB;AAGjC;IADC,IAAA,uBAAa,GAAE;;0DACG;AAKnB;IAFC,IAAA,eAAK,EAAC,mBAAmB,CAAC;IAC1B,IAAA,gBAAM,GAAE;;gEACgB;AAGzB;IADC,IAAA,gBAAM,GAAE;;wDACQ;AAGjB;IADC,IAAA,gBAAM,GAAE;;wDACQ;AAGjB;IADC,IAAA,gBAAM,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;qDACZ;AAGf;IADC,IAAA,gBAAM,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;2DACN;AAGrB;IADC,IAAA,gBAAM,EAAC,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;yDACR;AAInB;IADC,IAAA,gBAAM,EAAC,EAAE,IAAI,EAAE,MAAM,EAAE,QAAQ,EAAE,IAAI,EAAE,CAAC;;mDAC5B;AAGb;IADC,IAAA,0BAAgB,GAAE;8BACP,IAAI;0DAAC;AAGjB;IADC,IAAA,0BAAgB,GAAE;8BACP,IAAI;0DAAC;iCAjCN,sBAAsB;IADlC,IAAA,gBAAM,EAAC,GAAG,8BAAkB,eAAe,CAAC;GAChC,sBAAsB,CAkClC","sourcesContent":["import {\n  Entity,\n  Column,\n  PrimaryColumn,\n  CreateDateColumn,\n  UpdateDateColumn,\n  Index,\n} from 'typeorm';\nimport { OAUTH_TABLE_PREFIX } from '../constants';\n\n@Entity(`${OAUTH_TABLE_PREFIX}user_profiles`)\nexport class OAuthUserProfileEntity {\n  // Stable profile id we return to callers\n  @PrimaryColumn()\n  profile_id: string;\n\n  // Provider-unique user id (e.g., GitHub id)\n  @Index('idx_provider_user')\n  @Column()\n  provider_user_id: string;\n\n  @Column()\n  provider: string;\n\n  @Column()\n  username: string;\n\n  @Column({ nullable: true })\n  email?: string;\n\n  @Column({ nullable: true })\n  displayName?: string;\n\n  @Column({ nullable: true })\n  avatarUrl?: string;\n\n  // Store raw provider profile for completeness/debugging\n  @Column({ type: 'text', nullable: true })\n  raw?: string;\n\n  @CreateDateColumn()\n  created_at: Date;\n\n  @UpdateDateColumn()\n  updated_at: Date;\n}\n"]}