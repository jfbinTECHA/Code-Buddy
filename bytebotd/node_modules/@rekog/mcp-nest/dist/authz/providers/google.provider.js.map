{"version":3,"file":"google.provider.js","sourceRoot":"","sources":["../../../src/authz/providers/google.provider.ts"],"names":[],"mappings":";;;AAAA,qEAAmD;AACnD,2EAAuE;AAG1D,QAAA,mBAAmB,GAAwB;IACtD,IAAI,EAAE,QAAQ;IACd,QAAQ,EAAE,kCAAQ;IAClB,eAAe,EAAE,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,YAAY,EAAE,YAAY,EAAE,EAAE,EAAE,CAAC,CAAC;QACzE,QAAQ,EAAE,QAAQ;QAClB,YAAY,EAAE,YAAY;QAC1B,WAAW,EAAE,IAAA,sCAAiB,EAAC,GAAG,SAAS,IAAI,YAAY,EAAE,CAAC;QAC9D,KAAK,EAAE,CAAC,SAAS,EAAE,OAAO,CAAC;KAC5B,CAAC;IACF,KAAK,EAAE,CAAC,SAAS,EAAE,OAAO,CAAC;IAC3B,aAAa,EAAE,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;QAC3B,EAAE,EAAE,OAAO,CAAC,EAAE;QACd,QAAQ,EAAE,OAAO,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC,EAAE,KAAK,EAAE,KAAK,CAAC,GAAG,CAAC,CAAC,CAAC,CAAC,IAAI,OAAO,CAAC,EAAE;QACjE,KAAK,EAAE,OAAO,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC,EAAE,KAAK;QACjC,WAAW,EAAE,OAAO,CAAC,WAAW;QAChC,SAAS,EAAE,OAAO,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC,EAAE,KAAK;QACrC,GAAG,EAAE,OAAO;KACb,CAAC;CACH,CAAC","sourcesContent":["import { Strategy } from 'passport-google-oauth20';\nimport { normalizeEndpoint } from '../../mcp/utils/normalize-endpoint';\nimport { OAuthProviderConfig } from './oauth-provider.interface';\n\nexport const GoogleOAuthProvider: OAuthProviderConfig = {\n  name: 'google',\n  strategy: Strategy,\n  strategyOptions: ({ serverUrl, clientId, clientSecret, callbackPath }) => ({\n    clientID: clientId,\n    clientSecret: clientSecret,\n    callbackURL: normalizeEndpoint(`${serverUrl}/${callbackPath}`),\n    scope: ['profile', 'email'],\n  }),\n  scope: ['profile', 'email'],\n  profileMapper: (profile) => ({\n    id: profile.id,\n    username: profile.emails?.[0]?.value?.split('@')[0] || profile.id,\n    email: profile.emails?.[0]?.value,\n    displayName: profile.displayName,\n    avatarUrl: profile.photos?.[0]?.value,\n    raw: profile,\n  }),\n};\n"]}