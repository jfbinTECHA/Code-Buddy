{"version":3,"file":"github.provider.js","sourceRoot":"","sources":["../../../src/authz/providers/github.provider.ts"],"names":[],"mappings":";;;AAAA,2EAAuE;AAEvE,qDAA2C;AAE9B,QAAA,mBAAmB,GAAwB;IACtD,IAAI,EAAE,QAAQ;IACd,QAAQ,EAAE,0BAAQ;IAClB,eAAe,EAAE,CAAC,EAAE,SAAS,EAAE,QAAQ,EAAE,YAAY,EAAE,YAAY,EAAE,EAAE,EAAE,CAAC,CAAC;QACzE,QAAQ,EAAE,QAAQ;QAClB,YAAY,EAAE,YAAY;QAC1B,WAAW,EAAE,IAAA,sCAAiB,EAAC,GAAG,SAAS,IAAI,YAAY,EAAE,CAAC;KAC/D,CAAC;IACF,KAAK,EAAE,CAAC,YAAY,CAAC;IACrB,aAAa,EAAE,CAAC,OAAO,EAAE,EAAE,CAAC,CAAC;QAC3B,EAAE,EAAE,OAAO,CAAC,EAAE;QACd,QAAQ,EAAE,OAAO,CAAC,QAAQ,IAAI,OAAO,CAAC,KAAK;QAC3C,KAAK,EAAE,OAAO,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC,EAAE,KAAK;QACjC,WAAW,EAAE,OAAO,CAAC,WAAW,IAAI,OAAO,CAAC,IAAI;QAChD,SAAS,EAAE,OAAO,CAAC,MAAM,EAAE,CAAC,CAAC,CAAC,EAAE,KAAK,IAAI,OAAO,CAAC,UAAU;QAC3D,GAAG,EAAE,OAAO;KACb,CAAC;CACH,CAAC","sourcesContent":["import { normalizeEndpoint } from '../../mcp/utils/normalize-endpoint';\nimport { OAuthProviderConfig } from './oauth-provider.interface';\nimport { Strategy } from 'passport-github';\n\nexport const GitHubOAuthProvider: OAuthProviderConfig = {\n  name: 'github',\n  strategy: Strategy,\n  strategyOptions: ({ serverUrl, clientId, clientSecret, callbackPath }) => ({\n    clientID: clientId,\n    clientSecret: clientSecret,\n    callbackURL: normalizeEndpoint(`${serverUrl}/${callbackPath}`),\n  }),\n  scope: ['user:email'],\n  profileMapper: (profile) => ({\n    id: profile.id,\n    username: profile.username || profile.login,\n    email: profile.emails?.[0]?.value,\n    displayName: profile.displayName || profile.name,\n    avatarUrl: profile.photos?.[0]?.value || profile.avatar_url,\n    raw: profile,\n  }),\n};\n"]}